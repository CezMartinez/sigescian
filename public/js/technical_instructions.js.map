{"version":3,"sources":["technical_instructions.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"technical_instructions.js","sourcesContent":["<!-- Script de Pasos -->\n\nvar num = 0;\nvar csrf = $(\"meta[name='csrf_token']\").attr('content');\n\nfunction agregar()\n{\n    $('#instructions').animate({scrollTop: $('#instructions').prop(\"scrollHeight\")}, 420);\n    num += 1;\n    $('#pasos').append('<li class=\"esk\">' +\n        '<div class=\"instruction-div\"> ' +\n        '<lable for=\"step[]\" class=\"instruction-lable\">'+num+'.</lable>' +\n        '<input placeholder=\"Descripcion del paso\" id=' + num + ' name=\"instructions[]\" class=\"form-control step instruction-input\" required/>' +\n        '<span class=\"instruction-button step' + num + '\"><a class=\"eliminarpaso btn btn-danger\" onclick=\"eliminar('+num+')\" >' +\n        '<span class=\"glyphicon glyphicon-remove\"></span>Eliminar</a></span>' +\n        '</div></li>')\n}\n\nfunction eliminar(numero)\n{\n    var item = $('span.step' + numero).closest('li.esk').fadeOut();\n    num -=1;\n    item.remove();\n}\n\nfunction validar()\n{\n    var i = 0;\n    var flag = true;\n    var pasos = [];\n    $('input.step').each(function ()\n    {\n        if ($(this).val() == \"\") {\n            $(this).addClass(\"has-warning\");\n            flag = false;\n        }\n        i += 1;\n    });\n    return flag;\n}\n\nfunction enviar(procedureId)\n{\n    var i = 0;\n    var pasos = [];\n    var id_instrucciones = [];\n    $('input.step').each(function ()\n    {\n        pasos[i] = $(this).val();\n        id_instrucciones[i] = $(this).attr('id');\n        i += 1;\n    });\n    if (validar()) {\n        swal({\n                title: \"Â¿Esta seguro de guardar?\",\n                text: \"se estableceran los pasos\",\n                type: \"info\",\n                showCancelButton: true,\n                confirmButtonColor: \"#658DF3\",\n                confirmButtonText: \"Guardar\",\n                closeOnConfirm: false\n            },\n            function ()\n            {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"/pasos/procedimientos/tecnicos/\" + procedureId,\n                    headers: {\n                        'X-CSRF-Token': csrf,\n                    },\n                    data: {\n                        steps: pasos,\n                        id_instrucciones: id_instrucciones,\n                    },\n                    success: function (data)\n                    {\n                        console.log(data);\n                        swal(\"Subido con exito\", \"Se han registrado los pasos\", \"success\");\n                    },\n                    error: function (data)\n                    {\n                        swal(\"Error\", \"Problemas al subir\", \"error\");\n                    }\n                })\n            }\n        )\n    } else {\n        swal(\"Error\", \"No pueden haber pasos vacios\", \"error\");\n    }\n}\n\n"],"sourceRoot":"/source/"}