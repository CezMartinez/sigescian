{"version":3,"sources":["technical_instructions.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"technical_instructions.js","sourcesContent":["<!-- Script de Pasos -->\r\n\r\nvar num = 0;\r\nvar csrf = $(\"meta[name='csrf_token']\").attr('content');\r\n\r\nfunction agregar()\r\n{\r\n    $('#instructions').animate({scrollTop: $('#instructions').prop(\"scrollHeight\")}, 420);\r\n    num += 1;\r\n    $('#pasos').append('<li class=\"esk\">' +\r\n        '<div class=\"instruction-div\"> ' +\r\n        '<lable for=\"step[]\" class=\"instruction-lable\">'+num+'.</lable>' +\r\n        '<input placeholder=\"Descripcion del paso\" id=' + num + ' name=\"instructions[]\" class=\"form-control step instruction-input\" required/>' +\r\n        '<span class=\"instruction-button step' + num + '\"><a class=\"eliminarpaso btn btn-danger\" onclick=\"eliminar('+num+')\" >' +\r\n        '<span class=\"glyphicon glyphicon-remove\"></span>Eliminar</a></span>' +\r\n        '</div></li>')\r\n}\r\n\r\nfunction eliminar(numero)\r\n{\r\n    var item = $('span.step' + numero).closest('li.esk').fadeOut();\r\n    num -=1;\r\n    item.remove();\r\n}\r\n\r\nfunction validar()\r\n{\r\n    var i = 0;\r\n    var flag = true;\r\n    var pasos = [];\r\n    $('input.step').each(function ()\r\n    {\r\n        if ($(this).val() == \"\") {\r\n            $(this).addClass(\"has-warning\");\r\n            flag = false;\r\n        }\r\n        i += 1;\r\n    });\r\n    return flag;\r\n}\r\n\r\nfunction enviar(procedureId)\r\n{\r\n    var i = 0;\r\n    var pasos = [];\r\n    var id_instrucciones = [];\r\n    $('input.step').each(function ()\r\n    {\r\n        pasos[i] = $(this).val();\r\n        id_instrucciones[i] = $(this).attr('id');\r\n        i += 1;\r\n    });\r\n    if (validar()) {\r\n        swal({\r\n                title: \"Â¿Esta seguro de guardar?\",\r\n                text: \"se estableceran los pasos\",\r\n                type: \"info\",\r\n                showCancelButton: true,\r\n                confirmButtonColor: \"#658DF3\",\r\n                confirmButtonText: \"Guardar\",\r\n                closeOnConfirm: false\r\n            },\r\n            function ()\r\n            {\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"/pasos/procedimientos/tecnicos/\" + procedureId,\r\n                    headers: {\r\n                        'X-CSRF-Token': csrf,\r\n                    },\r\n                    data: {\r\n                        steps: pasos,\r\n                        id_instrucciones: id_instrucciones,\r\n                    },\r\n                    success: function (data)\r\n                    {\r\n                        console.log(data);\r\n                        swal(\"Subido con exito\", \"Se han registrado los pasos\", \"success\");\r\n                    },\r\n                    error: function (data)\r\n                    {\r\n                        swal(\"Error\", \"Problemas al subir\", \"error\");\r\n                    }\r\n                })\r\n            }\r\n        )\r\n    } else {\r\n        swal(\"Error\", \"No pueden haber pasos vacios\", \"error\");\r\n    }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}